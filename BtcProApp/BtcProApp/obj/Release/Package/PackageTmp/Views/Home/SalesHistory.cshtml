
@{
    ViewBag.Title = "SalesHistory";
}

<script src="~/Scripts/angular.min.js"></script>
<script src="~/app/scripts/BusinessReportController.js"></script>

<section class="wrapper">
    <div ng-app="app" ng-controller="BusinessReport" ng-cloak>
        <div class="row">
            <div class="col-sm-12">
                <section class="panel">
                    <header class="panel-heading">
                        <i class="fa fa-money" style="color:green"></i> Current Week Fixed Return Projection
                    </header>
                    <div class="panel-body">
                        <div style="margin-bottom:10px">Showing 1 - {{ledger.length}} of {{ledger.length}} total</div>

                        <table class="table table-striped table-bordered" style="width:100%;text-align:center">
                            <thead>
                                <tr>
                                    <th style="text-align:center">Week No.</th>
                                    <th style="text-align:center">Effective Start Date</th>
                                    <th style="text-align:center">Effective End Date</th>
                                    <th style="text-align:center">Due Date</th>
                                    <th style="text-align:center">Earning</th>
                                    <th style="text-align:center">Scheme</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="ldgr in ledger">
                                    <td>{{ldgr.WeekNo}}</td>
                                    <td>{{ldgr.sWeekStartDate}}</td>
                                    <td>{{ldgr.sWeekEndDate}}</td>
                                    <td>{{ldgr.sDueDate}}</td>
                                    <td>{{ldgr.Amount | currency}}</td>
                                    <td>{{ldgr.Package}}</td>
                                </tr>
                                <tr>
                                    <td colspan="4" style="padding-right:15px;text-align:right;vertical-align:middle; font-weight:800">Week Earning:</td>
                                    <td  style="font-size:24px;color:green">{{calculatedAmt | currency}}</td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12">
                <section class="panel">
                    <header class="panel-heading">
                        <i class="fa fa-rotate-180 fa-code-fork" style="color:green"></i> Current Week UpTo-Date Binary Income Return
                    </header>
                    <div class="panel-body">
                        <div style="margin-bottom:10px">Showing 1 - {{binaryledger.length}} of {{binaryledger.length}} total</div>

                        <table class="table table-striped table-bordered" style="width:100%;text-align:center">
                            <thead>
                                <tr>
                                    <th style="text-align:center">Week No.</th>
                                    <th style="text-align:center">Week Start Date</th>
                                    <th style="text-align:center">Week End Date</th>
                                    <th style="text-align:center">Transaction Date</th>
                                    <th style="text-align:center">Purchaser</th>
                                    <th style="text-align:center">Scheme</th>
                                    <th style="text-align:center">Left Side Amount</th>
                                    <th style="text-align:center">Right Side Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="bildgr in binaryledger">
                                    <td>{{bildgr.WeekNo}}</td>
                                    <td>{{bildgr.sWeekStartDate}}</td>
                                    <td>{{bildgr.sWeekEndDate}}</td>
                                    <td>{{bildgr.sDate}}</td>
                                    <td>{{bildgr.Purchaser}}</td>
                                    <td>{{bildgr.Package}}</td>
                                    <td><span ng-if="bildgr.LeftSideAmount>0">{{bildgr.LeftSideAmount | currency}}</span></td>
                                    <td><span ng-if="bildgr.RightSideAmount>0">{{bildgr.RightSideAmount | currency}}</span></td>
                                </tr>
                                <tr>
                                    <td colspan="6" style="text-align:right;padding-right:5px;font-weight:800">Totals:</td>
                                    <td>{{ledgertotals.CurrentLeftAmount | currency}}</td>
                                    <td>{{ledgertotals.CurrentRightAmount | currency}}</td>
                                </tr>
                                <tr>
                                    <td colspan="6" style="text-align:right;padding-right:5px;font-weight:800;">Add Previous Opening Totals:</td>
                                    <td>{{ledgertotals.opLeftAmount | currency}}</td>
                                    <td>{{ledgertotals.opRightAmount | currency}}</td>
                                </tr>
                                <tr>
                                    <td colspan="6" style="text-align:right;padding-right:5px;font-weight:800;">Grand Total:</td>
                                    <td>{{ledgertotals.TotalLeftAmount | currency}}</td>
                                    <td>{{ledgertotals.TotalRightAmount | currency}}</td>
                                </tr>
                                <tr>
                                    <td colspan="6" style="text-align:right;vertical-align:middle;padding-right:5px;font-weight:800;">Income:</td>
                                    <td colspan="2" style="text-align:center;font-size:24px;color:green">{{ledgertotals.IncomeAmount | currency}}</td>
                                </tr>
                                <tr>
                                    <td colspan="6" style="text-align:right;padding-right:5px;font-weight:800;">Carry forward to next week:</td>
                                    <td>{{ledgertotals.cdLeftAmount | currency}}</td>
                                    <td>{{ledgertotals.cdRightAmount | currency}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12">
                <section class="panel">
                    <header class="panel-heading">
                        <i class="fa fa-rss" style="color:green"></i> Current Week UpTo-Date Sponsor Income Return
                    </header>
                    <div class="panel-body">
                        <div style="margin-bottom:10px">Showing 1 - {{sponsorledger.length}} of {{sponsorledger.length}} total</div>

                        <table class="table table-striped table-bordered" style="width:100%;text-align:center">
                            <thead>
                                <tr>
                                    <th style="text-align:center">Week No.</th>
                                    <th style="text-align:center">Week Start Date</th>
                                    <th style="text-align:center">Week End Date</th>
                                    <th style="text-align:center">Transaction Date</th>
                                    <th style="text-align:center">Purchaser</th>
                                    <th style="text-align:center">Scheme</th>
                                    <th style="text-align:center">Amount</th>
                                    <th style="text-align:center">Earning</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="spldgr in sponsorledger">
                                    <td>{{spldgr.WeekNo}}</td>
                                    <td>{{spldgr.sWeekStartDate}}</td>
                                    <td>{{spldgr.sWeekEndDate}}</td>
                                    <td>{{spldgr.sDate}}</td>
                                    <td>{{spldgr.Purchaser}}</td>
                                    <td>{{spldgr.Package}}</td>
                                    <td><span ng-if="spldgr.RightSideAmount>0">{{spldgr.RightSideAmount | currency}}</span>
                                        <span ng-if="spldgr.LeftSideAmount>0">{{spldgr.LeftSideAmount | currency}}</span>
                                    </td>
                                    <td>{{spldgr.WalletAmount | currency}}</td>
                                </tr>
                                <tr>
                                    <td colspan="7" style="text-align:right;vertical-align:middle; padding-right:5px;font-weight:800">Income:</td>
                                    <td colspan="1" style="font-size:24px;color:green">{{sponsorTotalIncome | currency}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>
        </div>

        <div class="row">
        <div class="col-sm-12">
            <section class="panel">
                <header class="panel-heading">
                    <i class="fa fa-sitemap" style="color:green"></i> Current Week UpTo-Date Generation Income Return
                </header>
                <div class="panel-body">
                    <div style="margin-bottom:10px">Showing 1 - {{generationledger.length}} of {{generationledger.length}} total</div>

                    <table class="table table-striped table-bordered" style="width:100%;text-align:center">
                        <thead>
                            <tr>
                                <th style="text-align:center">Week No.</th>
                                <th style="text-align:center">Week Start Date</th>
                                <th style="text-align:center">Week End Date</th>
                                <th style="text-align:center">Transaction Date</th>
                                <th style="text-align:center">Purchaser</th>
                                <th style="text-align:center">Generation</th>
                                <th style="text-align:center">Scheme</th>
                                <th style="text-align:center">Binary Income</th>
                                <th style="text-align:center"> My Earning</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="gnldgr in modifiedGenerationLedger | orderBy:'Level'">
                                <td>{{gnldgr.WeekNo}}</td>
                                <td>{{gnldgr.sWeekStartDate}}</td>
                                <td>{{gnldgr.sWeekEndDate}}</td>
                                <td>{{gnldgr.sDate}}</td>
                                <td>{{gnldgr.Purchaser}}</td>
                                <td>{{gnldgr.Level}}</td>
                                <td>{{gnldgr.Package}}</td>
                                <td>{{gnldgr.Total | currency}}</td>
                                <td>{{gnldgr.WalletAmount | currency}}</td>
                            </tr>
                            <tr>
                                <td colspan="8" style="text-align:right;vertical-align:middle; padding-right:5px;font-weight:800">Income:</td>
                                <td  colspan="1" style="font-size:24px;color:green">{{generationTotalIncome | currency}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>
    </div>
</section>


